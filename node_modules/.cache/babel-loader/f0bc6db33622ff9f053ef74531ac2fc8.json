{"ast":null,"code":"const LOCAL_HOST = 'http://localhost:8080';\n\nconst headerHandler = (data, method) => {\n  return {\n    method: method,\n    body: JSON.stringify(data),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  };\n};\n\nasync function dataFetchHandler(url, params, errorMessage) {\n  const response = await fetch(url, params);\n  const data = await response.json();\n\n  if (!response.ok) {\n    if (!errorMessage) {\n      errorMessage = 'Could not fetch data.';\n    }\n\n    throw new Error(data.message || errorMessage);\n  }\n\n  ;\n  return data;\n}\n\n;\nexport async function login(data) {\n  const dataOutput = dataFetchHandler(`${LOCAL_HOST}/api/auth/signin`, headerHandler(data, 'POST'));\n  return dataOutput;\n}\n;\nexport async function signup(data) {\n  const dataOutput = dataFetchHandler(`${LOCAL_HOST}/api/auth/signup`, headerHandler(data, 'POST'));\n  return dataOutput;\n}\n;\nexport async function getAllRecipes() {\n  const data = dataFetchHandler(`${LOCAL_HOST}/recipes.json`);\n  const transformedRecipes = [];\n\n  for (const key in data) {\n    const recipeObj = {\n      id: key,\n      ...data[key]\n    };\n    transformedRecipes.push(recipeObj);\n  }\n\n  return transformedRecipes;\n}\n;\nexport async function getSingleRecipe(recipeId) {\n  const data = dataFetchHandler(`${FIREBASE_DOMAIN}/recipes/${recipeId}.json`);\n  const loadedRecipe = {\n    id: recipeId,\n    ...data\n  };\n  return loadedRecipe;\n}\n;\nexport async function addRecipe(recipeData) {\n  dataFetchHandler(`${FIREBASE_DOMAIN}/recipes.json`, {\n    method: 'POST',\n    body: JSON.stringify(recipeData),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  return null;\n}\n;\nexport async function addComment(requestData) {\n  const data = dataFetchHandler(`${FIREBASE_DOMAIN}/comments/${requestData.recipeId}.json`, {\n    method: 'POST',\n    body: JSON.stringify(requestData.commentData),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n  return {\n    commentId: data.name\n  };\n}\n;\nexport async function getAllComments(recipeId) {\n  const data = dataFetchHandler(`${FIREBASE_DOMAIN}/comments/${recipeId}.json`);\n  const transformedComments = [];\n\n  for (const key in data) {\n    const commentObj = {\n      id: key,\n      ...data[key]\n    };\n    transformedComments.push(commentObj);\n  }\n\n  return transformedComments;\n}\n;","map":{"version":3,"sources":["/Users/alexis/Desktop/duo/src/components/lib/api.js"],"names":["LOCAL_HOST","headerHandler","data","method","body","JSON","stringify","headers","dataFetchHandler","url","params","errorMessage","response","fetch","json","ok","Error","message","login","dataOutput","signup","getAllRecipes","transformedRecipes","key","recipeObj","id","push","getSingleRecipe","recipeId","FIREBASE_DOMAIN","loadedRecipe","addRecipe","recipeData","addComment","requestData","commentData","commentId","name","getAllComments","transformedComments","commentObj"],"mappings":"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","sourcesContent":["const LOCAL_HOST = 'http://localhost:8080';\n\nconst headerHandler = (data, method) => {\n    return {\n        method: method,\n        body: JSON.stringify(data),\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    }\n};\n\nasync function dataFetchHandler(url, params, errorMessage) {\n    const response = await fetch(url, params);\n    const data = await response.json();\n\n    if (!response.ok) {\n        if (!errorMessage) {\n            errorMessage = 'Could not fetch data.'\n        }\n        throw new Error(data.message || errorMessage);\n    };\n    \n    return data;\n};\n\nexport async function login(data) {\n    const dataOutput = dataFetchHandler(`${LOCAL_HOST}/api/auth/signin`, headerHandler(data, 'POST'));\n\n    return dataOutput;\n};\n\nexport async function signup(data) {\n    const dataOutput = dataFetchHandler(`${LOCAL_HOST}/api/auth/signup`, headerHandler(data, 'POST'));\n\n    return dataOutput;\n};\n\nexport async function getAllRecipes() {\n    const data = dataFetchHandler(`${LOCAL_HOST}/recipes.json`);\n\n    const transformedRecipes = [];\n\n    for (const key in data) {\n        const recipeObj = {\n            id: key,            \n            ...data[key],\n        };\n\n        transformedRecipes.push(recipeObj);\n    }\n\n    return transformedRecipes;\n};\n\nexport async function getSingleRecipe(recipeId) {\n    const data = dataFetchHandler(`${FIREBASE_DOMAIN}/recipes/${recipeId}.json`);\n\n    const loadedRecipe = {\n        id: recipeId,\n        ...data,\n    };\n\n    return loadedRecipe;\n};\n\nexport async function addRecipe(recipeData) {\n    dataFetchHandler(`${FIREBASE_DOMAIN}/recipes.json`, {\n        method: 'POST',\n        body: JSON.stringify(recipeData),\n        headers: {\n        'Content-Type': 'application/json',\n        },\n    });\n\n    return null;\n};\n\nexport async function addComment(requestData) {\n    const data = dataFetchHandler(`${FIREBASE_DOMAIN}/comments/${requestData.recipeId}.json`, {\n        method: 'POST',\n        body: JSON.stringify(requestData.commentData),\n        headers: {\n        'Content-Type': 'application/json',\n        },\n    });\n\n    return { commentId: data.name };\n};\n\nexport async function getAllComments(recipeId) {\n    const data = dataFetchHandler(`${FIREBASE_DOMAIN}/comments/${recipeId}.json`);\n\n    const transformedComments = [];\n\n    for (const key in data) {\n        const commentObj = {\n        id: key,\n        ...data[key],\n        };\n\n        transformedComments.push(commentObj);\n    }\n\n    return transformedComments;\n};"]},"metadata":{},"sourceType":"module"}