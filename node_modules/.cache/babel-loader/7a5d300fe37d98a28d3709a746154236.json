{"ast":null,"code":"var _jsxFileName = \"/Users/alexis/Desktop/duo/src/pages/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport AuthService from '../../services/auth.service';\nimport classes from './Login.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confrimPassword, setConfirmPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isLogin, setIsLogin] = useState(true);\n\n  const usernameChangeHandler = event => {\n    event.preventDefault();\n    setUsername(event.target.value);\n  };\n\n  const emailChangeHandler = event => {\n    event.preventDefault();\n    setEmail(event.target.value);\n  };\n\n  const passwordChangeHandler = event => {\n    event.preventDefault();\n    setPassword(event.target.value);\n  };\n\n  const confirmPasswordChangeHandler = event => {\n    event.preventDefault();\n    setConfirmPassword(event.target.value);\n  };\n\n  const switchAuthModeHandler = () => {\n    setIsLogin(prevState => !prevState);\n  };\n\n  const submitHandler = event => {\n    event.preventDefault();\n    setMessage('');\n    setIsLoading(true);\n\n    if (isLogin) {\n      AuthService.login(email, password).then(() => {\n        navigate('/recipes');\n        window.location.reload();\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        setIsLoading(false);\n        setMessage(resMessage);\n      });\n    } else {\n      if (confrimPassword !== password) {\n        let errorMessage = 'Authentication failed!';\n        return alert(errorMessage);\n      }\n\n      ;\n      AuthService.register(username, email, password).then(response => {\n        setMessage(response.data.message);\n      }, error => {\n        const resMessage = error.response && error.response.data && error.response.data.message || error.message || error.toString();\n        setIsLoading(false);\n        setMessage(resMessage);\n      });\n    }\n\n    ;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: classes.auth,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: isLogin ? 'Login' : 'Sign Up'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [!isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"username\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          value: username,\n          minLength: \"2\",\n          required: true,\n          onChange: usernameChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Your Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: email,\n          required: true,\n          onChange: emailChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Your Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: password,\n          required: true,\n          onChange: passwordChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }, this), !isLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.control,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Confirm Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"confirmPassword\",\n          required: true,\n          onChange: confirmPasswordChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        role: \"alert\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.actions,\n        children: [!isLoading && /*#__PURE__*/_jsxDEV(\"button\", {\n          children: isLogin ? 'Login' : 'Create Account'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 37\n        }, this), isLoading && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Sending request...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 35\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: classes.toggle,\n          onClick: switchAuthModeHandler,\n          children: isLogin ? 'Create new account' : 'Login with existing account'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"e4ZZQnmLYG7LYjMHQImLOWpXrpM=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/alexis/Desktop/duo/src/pages/Login/Login.js"],"names":["useState","useNavigate","AuthService","classes","Login","navigate","username","setUsername","email","setEmail","password","setPassword","confrimPassword","setConfirmPassword","message","setMessage","isLoading","setIsLoading","isLogin","setIsLogin","usernameChangeHandler","event","preventDefault","target","value","emailChangeHandler","passwordChangeHandler","confirmPasswordChangeHandler","switchAuthModeHandler","prevState","submitHandler","login","then","window","location","reload","error","resMessage","response","data","toString","errorMessage","alert","register","auth","control","actions","toggle"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport AuthService from '../../services/auth.service';\nimport classes from './Login.module.css';\n\nconst Login = () => {\n    const navigate = useNavigate();\n    const [username, setUsername] = useState('');\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confrimPassword, setConfirmPassword] = useState('');\n    const [message, setMessage] = useState('');\n    const [isLoading, setIsLoading] = useState(false);\n    const [isLogin, setIsLogin] = useState(true);\n\n    const usernameChangeHandler = (event) => {\n        event.preventDefault();\n        setUsername(event.target.value);\n    };\n    \n    const emailChangeHandler = (event) => {\n        event.preventDefault();\n        setEmail(event.target.value);\n    };\n\n    const passwordChangeHandler = (event) => {\n        event.preventDefault();\n        setPassword(event.target.value);\n    };\n\n    const confirmPasswordChangeHandler = (event) => {\n        event.preventDefault();\n        setConfirmPassword(event.target.value);\n    };\n\n    const switchAuthModeHandler = () => {\n        setIsLogin((prevState) => !prevState);\n    };\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n        setMessage('');\n        setIsLoading(true);\n\n        if (isLogin) {\n            AuthService.login(email, password).then(\n                () => {\n                    navigate('/recipes');\n                    window.location.reload();\n                },\n                (error) => {\n                    const resMessage =\n                        (error.response && error.response.data && error.response.data.message) ||\n                        error.message || error.toString();\n                    setIsLoading(false);\n                    setMessage(resMessage);\n                }\n            );\n        } else {\n            if (confrimPassword !== password) {\n                let errorMessage = 'Authentication failed!';\n                return alert(errorMessage);\n            };\n\n            AuthService.register(username, email, password).then(\n                (response) => {\n                    setMessage(response.data.message);\n                },\n                (error) => {\n                    const resMessage =\n                        (error.response && error.response.data && error.response.data.message) ||\n                        error.message || error.toString();\n                    setIsLoading(false);\n                    setMessage(resMessage);\n                }\n            );\n        };\n        \n    };\n\n    return (\n        <section className={classes.auth}>\n            <h1>{isLogin ? 'Login' : 'Sign Up'}</h1>\n            <form onSubmit={submitHandler}>\n                {!isLogin && (\n                    <div className={classes.control}>\n                        <label htmlFor='username'>Username</label>\n                        <input\n                            type='text'\n                            name='username'\n                            value={username}\n                            minLength='2'\n                            required\n                            onChange={usernameChangeHandler}\n                        />\n                    </div>\n                )}\n                <div className={classes.control}>\n                    <label htmlFor='email'>Your Email</label>\n                    <input \n                        type='email' \n                        name='email' \n                        value={email}\n                        required \n                        onChange={emailChangeHandler}\n                    />\n                </div>\n                <div className={classes.control}>\n                    <label htmlFor='password'>Your Password</label>\n                    <input\n                        type='password'\n                        name='password'\n                        value={password}\n                        required\n                        onChange={passwordChangeHandler}\n                    />\n                </div>\n                {!isLogin && (\n                    <div className={classes.control}>\n                        <label htmlFor='password'>Confirm Password</label>\n                        <input\n                            type='password'\n                            name='confirmPassword'\n                            required\n                            onChange={confirmPasswordChangeHandler}\n                        />\n                    </div>\n                )}\n                {message && (\n                    <div role='alert'>\n                        {message}\n                    </div>\n                )}\n                <div className={classes.actions}>\n                    {!isLoading && (<button>{isLogin ? 'Login' : 'Create Account'}</button>)}\n                    {isLoading && <p>Sending request...</p>}\n                    <button\n                        type='button'\n                        className={classes.toggle}\n                        onClick={switchAuthModeHandler}\n                    >\n                        {isLogin ? 'Create new account' : 'Login with existing account'}\n                    </button>\n                </div>\n            </form>\n        </section>\n    );\n};\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}