[{"/Users/alexis/Desktop/duo/src/index.js":"1","/Users/alexis/Desktop/duo/src/App.js":"2","/Users/alexis/Desktop/duo/src/pages/AddYourTwist/AddYourTwist.js":"3","/Users/alexis/Desktop/duo/src/pages/RecipeDetail/RecipeDetail.js":"4","/Users/alexis/Desktop/duo/src/components/layout/Layout/Layout.js":"5","/Users/alexis/Desktop/duo/src/components/layout/Navigation/MainNavigation.js":"6","/Users/alexis/Desktop/duo/src/pages/Recipes/components/list/RecipeList.js":"7","/Users/alexis/Desktop/duo/src/pages/Recipes/components/item/RecipeItem.js":"8","/Users/alexis/Desktop/duo/src/pages/Recipes/components/form/RecipeForm.js":"9","/Users/alexis/Desktop/duo/src/components/UI/LoadingSpinner/LoadingSpinner.js":"10","/Users/alexis/Desktop/duo/src/components/UI/Card/Card.js":"11","/Users/alexis/Desktop/duo/src/components/UI/Modal/Modal.js":"12","/Users/alexis/Desktop/duo/src/components/UI/Backdrop/Backdrop.js":"13","/Users/alexis/Desktop/duo/src/pages/FellowBartenders/FellowBartenders/FellowBartenders.js":"14","/Users/alexis/Desktop/duo/src/pages/Recipes/Recipes/Recipes.js":"15","/Users/alexis/Desktop/duo/src/pages/RecipeDetail/components/marked/MarkedRecipe.js":"16","/Users/alexis/Desktop/duo/src/pages/PageNotFound.js":"17","/Users/alexis/Desktop/duo/src/components/comments/comments/Comments.js":"18","/Users/alexis/Desktop/duo/src/components/comments/components/form/NewCommentForm.js":"19","/Users/alexis/Desktop/duo/src/pages/Login/Login.js":"20","/Users/alexis/Desktop/duo/src/pages/StartingPage/StartingPage.js":"21","/Users/alexis/Desktop/duo/src/pages/Profile/Profile.js":"22","/Users/alexis/Desktop/duo/src/store/auth-context.js":"23","/Users/alexis/Desktop/duo/src/components/lib/api.js":"24","/Users/alexis/Desktop/duo/src/pages/Profile/EditInfo.js":"25","/Users/alexis/Desktop/duo/src/components/UI/Toggle/ToggleSwitch.js":"26"},{"size":405,"mtime":1649433614957,"results":"27","hashOfConfig":"28"},{"size":2235,"mtime":1649475616951,"results":"29","hashOfConfig":"28"},{"size":455,"mtime":1649944538060,"results":"30","hashOfConfig":"28"},{"size":5155,"mtime":1649833404146,"results":"31","hashOfConfig":"28"},{"size":326,"mtime":1648985311608,"results":"32","hashOfConfig":"28"},{"size":1815,"mtime":1649322994330,"results":"33","hashOfConfig":"28"},{"size":511,"mtime":1649144386945,"results":"34","hashOfConfig":"28"},{"size":411,"mtime":1648985735966,"results":"35","hashOfConfig":"28"},{"size":5999,"mtime":1649945156751,"results":"36","hashOfConfig":"28"},{"size":167,"mtime":1616596573000,"results":"37","hashOfConfig":"28"},{"size":156,"mtime":1616596573000,"results":"38","hashOfConfig":"28"},{"size":359,"mtime":1648994191565,"results":"39","hashOfConfig":"28"},{"size":193,"mtime":1648992299834,"results":"40","hashOfConfig":"28"},{"size":101,"mtime":1649148013400,"results":"41","hashOfConfig":"28"},{"size":5646,"mtime":1649164154876,"results":"42","hashOfConfig":"28"},{"size":317,"mtime":1649078250226,"results":"43","hashOfConfig":"28"},{"size":165,"mtime":1648990306115,"results":"44","hashOfConfig":"28"},{"size":670,"mtime":1649150686176,"results":"45","hashOfConfig":"28"},{"size":1736,"mtime":1649161161639,"results":"46","hashOfConfig":"28"},{"size":4821,"mtime":1649941984515,"results":"47","hashOfConfig":"28"},{"size":240,"mtime":1649081052195,"results":"48","hashOfConfig":"28"},{"size":799,"mtime":1649835742411,"results":"49","hashOfConfig":"28"},{"size":3488,"mtime":1649655400350,"results":"50","hashOfConfig":"28"},{"size":3388,"mtime":1649944686104,"results":"51","hashOfConfig":"28"},{"size":4524,"mtime":1649932732124,"results":"52","hashOfConfig":"28"},{"size":737,"mtime":1649665513965,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"vnfuyh",{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"101","usedDeprecatedRules":"56"},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"/Users/alexis/Desktop/duo/src/index.js",[],["108","109"],"/Users/alexis/Desktop/duo/src/App.js",[],"/Users/alexis/Desktop/duo/src/pages/AddYourTwist/AddYourTwist.js",["110"],"/Users/alexis/Desktop/duo/src/pages/RecipeDetail/RecipeDetail.js",[],"/Users/alexis/Desktop/duo/src/components/layout/Layout/Layout.js",[],"/Users/alexis/Desktop/duo/src/components/layout/Navigation/MainNavigation.js",[],"/Users/alexis/Desktop/duo/src/pages/Recipes/components/list/RecipeList.js",[],"/Users/alexis/Desktop/duo/src/pages/Recipes/components/item/RecipeItem.js",[],"/Users/alexis/Desktop/duo/src/pages/Recipes/components/form/RecipeForm.js",["111"],"/Users/alexis/Desktop/duo/src/components/UI/LoadingSpinner/LoadingSpinner.js",[],"/Users/alexis/Desktop/duo/src/components/UI/Card/Card.js",[],"/Users/alexis/Desktop/duo/src/components/UI/Modal/Modal.js",[],"/Users/alexis/Desktop/duo/src/components/UI/Backdrop/Backdrop.js",[],"/Users/alexis/Desktop/duo/src/pages/FellowBartenders/FellowBartenders/FellowBartenders.js",[],"/Users/alexis/Desktop/duo/src/pages/Recipes/Recipes/Recipes.js",[],"/Users/alexis/Desktop/duo/src/pages/RecipeDetail/components/marked/MarkedRecipe.js",[],"/Users/alexis/Desktop/duo/src/pages/PageNotFound.js",[],"/Users/alexis/Desktop/duo/src/components/comments/comments/Comments.js",[],"/Users/alexis/Desktop/duo/src/components/comments/components/form/NewCommentForm.js",[],"/Users/alexis/Desktop/duo/src/pages/Login/Login.js",[],"/Users/alexis/Desktop/duo/src/pages/StartingPage/StartingPage.js",[],"/Users/alexis/Desktop/duo/src/pages/Profile/Profile.js",[],"/Users/alexis/Desktop/duo/src/store/auth-context.js",["112","113"],"import React, { useCallback, useEffect, useState } from 'react';\nimport { refreshTokenAPI } from '../components/lib/api';\n\nlet logoutTimer;\nlet refreshTokenTimer;\n\nconst AuthContext = React.createContext({\n    token: '',\n    isLoggedIn: false,\n    login: (token) => {},\n    logout: () => {},\n    refreshToken: () => {},\n});\n\nconst calculateRemainingTime = (expirationTime) => {\n    const currentTime = new Date().getTime();\n    const adjExpirationTime = new Date(expirationTime).getTime();\n\n    const remainingDuration = adjExpirationTime - currentTime;\n\n    return remainingDuration;\n};\n\nconst retrieveStoredToken = () => {\n    const storedToken = localStorage.getItem('token');\n    const storedExpirationDate = localStorage.getItem('expirationTime');\n\n    const remainingTime = calculateRemainingTime(storedExpirationDate);\n\n    if (remainingTime <= 60000){\n        localStorage.removeItem('token');\n        localStorage.removeItem('expirationTime');\n        return null;\n    };\n\n    return {\n        token: storedToken,\n        duration: remainingTime\n    };\n};\n\nexport const AuthContextProvider = (props) => {\n    const tokenData = retrieveStoredToken();\n    let initialToken;\n    if (tokenData){\n        initialToken = tokenData.token;\n    };\n\n    const [token, setToken] = useState(initialToken);\n\n    const userIsLoggedIn = !!token;\n\n    const logoutHandler = useCallback(() => {\n        setToken(null);\n        localStorage.removeItem('token');\n        localStorage.removeItem('expirationTime');\n        localStorage.removeItem('refreshToken');\n\n        if (logoutTimer){\n            clearTimeout(logoutTimer);\n        }\n    }, []);\n\n    const loginHandler = (data) => {\n        const expirationTime = new Date((new Date().getTime() + (+data.expiresIn * 1000)));\n        setToken(data.token);\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('expirationTime', expirationTime);\n        localStorage.setItem('refreshToken', data.refreshToken);\n        localStorage.setItem('userId', data.id);\n        localStorage.setItem('username', data.username);\n        localStorage.setItem('email', data.email);\n\n        const remainingTime = calculateRemainingTime(expirationTime);\n        localStorage.setItem('remainingTime', remainingTime);\n\n        refreshTokenTimer = setTimeout(refreshTokenHandler, remainingTime);\n    };\n\n    const refreshTokenHandler = () => {\n        const refreshToken = localStorage.getItem('refreshToken');\n        refreshTokenAPI({\n            refreshToken: refreshToken,\n        }).then((data) => {\n            setToken(data.accessToken);\n            localStorage.setItem('token', data.accessToken);\n            localStorage.setItem('refreshToken', data.refreshToken);\n            const remainingTime = localStorage.getItem('remainingTime');\n            refreshTokenTimer = setTimeout(refreshTokenHandler, remainingTime);\n        });\n    };\n\n    useEffect(() => {\n        if (tokenData){\n            console.log(tokenData.duration);\n            refreshTokenTimer = setTimeout(refreshTokenHandler, tokenData.duration);\n        }\n    },[tokenData, refreshTokenHandler]);\n\n    const contextValue = {\n        token: token,\n        isLoggedIn: userIsLoggedIn,\n        login: loginHandler,\n        logout: logoutHandler,\n        refreshToken: refreshTokenHandler,\n    };\n\n    return (\n        <AuthContext.Provider value={contextValue}>\n            {props.children}\n        </AuthContext.Provider>\n    );\n};\n\nexport default AuthContext;","/Users/alexis/Desktop/duo/src/components/lib/api.js",[],"/Users/alexis/Desktop/duo/src/pages/Profile/EditInfo.js",[],"/Users/alexis/Desktop/duo/src/components/UI/Toggle/ToggleSwitch.js",[],{"ruleId":"114","replacedBy":"115"},{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":1,"column":10,"nodeType":"120","messageId":"121","endLine":1,"endColumn":21},{"ruleId":"122","severity":1,"message":"123","line":111,"column":7,"nodeType":"120","messageId":"124","endLine":111,"endColumn":15},{"ruleId":"118","severity":1,"message":"125","line":5,"column":5,"nodeType":"120","messageId":"121","endLine":5,"endColumn":22},{"ruleId":"126","severity":1,"message":"127","line":80,"column":11,"nodeType":"128","endLine":91,"endColumn":6,"suggestions":"129"},"no-native-reassign",["130"],"no-negated-in-lhs",["131"],"no-unused-vars","'useNavigate' is defined but never used.","Identifier","unusedVar","no-const-assign","'recipeId' is constant.","const","'refreshTokenTimer' is assigned a value but never used.","react-hooks/exhaustive-deps","The 'refreshTokenHandler' function makes the dependencies of useEffect Hook (at line 98) change on every render. To fix this, wrap the definition of 'refreshTokenHandler' in its own useCallback() Hook.","VariableDeclarator",["132"],"no-global-assign","no-unsafe-negation",{"desc":"133","fix":"134"},"Wrap the definition of 'refreshTokenHandler' in its own useCallback() Hook.",{"range":"135","text":"136"},[2388,2897],"useCallback(() => {\n        const refreshToken = localStorage.getItem('refreshToken');\n        refreshTokenAPI({\n            refreshToken: refreshToken,\n        }).then((data) => {\n            setToken(data.accessToken);\n            localStorage.setItem('token', data.accessToken);\n            localStorage.setItem('refreshToken', data.refreshToken);\n            const remainingTime = localStorage.getItem('remainingTime');\n            refreshTokenTimer = setTimeout(refreshTokenHandler, remainingTime);\n        });\n    })"]