[{"/Users/alexis/Desktop/duo/src/index.js":"1","/Users/alexis/Desktop/duo/src/App.js":"2","/Users/alexis/Desktop/duo/src/pages/AddYourTwist/AddYourTwist.js":"3","/Users/alexis/Desktop/duo/src/pages/RecipeDetail/RecipeDetail.js":"4","/Users/alexis/Desktop/duo/src/components/layout/Layout/Layout.js":"5","/Users/alexis/Desktop/duo/src/components/layout/Navigation/MainNavigation.js":"6","/Users/alexis/Desktop/duo/src/pages/Recipes/components/list/RecipeList.js":"7","/Users/alexis/Desktop/duo/src/pages/Recipes/components/item/RecipeItem.js":"8","/Users/alexis/Desktop/duo/src/pages/Recipes/components/form/RecipeForm.js":"9","/Users/alexis/Desktop/duo/src/components/UI/LoadingSpinner/LoadingSpinner.js":"10","/Users/alexis/Desktop/duo/src/components/UI/Card/Card.js":"11","/Users/alexis/Desktop/duo/src/components/UI/Modal/Modal.js":"12","/Users/alexis/Desktop/duo/src/components/UI/Backdrop/Backdrop.js":"13","/Users/alexis/Desktop/duo/src/pages/FellowBartenders/FellowBartenders/FellowBartenders.js":"14","/Users/alexis/Desktop/duo/src/pages/Recipes/Recipes/Recipes.js":"15","/Users/alexis/Desktop/duo/src/pages/RecipeDetail/components/marked/MarkedRecipe.js":"16","/Users/alexis/Desktop/duo/src/pages/PageNotFound.js":"17","/Users/alexis/Desktop/duo/src/components/comments/comments/Comments.js":"18","/Users/alexis/Desktop/duo/src/components/comments/components/form/NewCommentForm.js":"19","/Users/alexis/Desktop/duo/src/pages/Login/Login.js":"20","/Users/alexis/Desktop/duo/src/pages/StartingPage/StartingPage.js":"21","/Users/alexis/Desktop/duo/src/pages/Profile/Profile.js":"22","/Users/alexis/Desktop/duo/src/store/auth-context.js":"23","/Users/alexis/Desktop/duo/src/components/lib/api.js":"24","/Users/alexis/Desktop/duo/src/pages/Profile/EditInfo.js":"25"},{"size":405,"mtime":1649433614957,"results":"26","hashOfConfig":"27"},{"size":2235,"mtime":1649475616951,"results":"28","hashOfConfig":"27"},{"size":567,"mtime":1649003017304,"results":"29","hashOfConfig":"27"},{"size":5142,"mtime":1649164111241,"results":"30","hashOfConfig":"27"},{"size":326,"mtime":1648985311608,"results":"31","hashOfConfig":"27"},{"size":1815,"mtime":1649322994330,"results":"32","hashOfConfig":"27"},{"size":511,"mtime":1649144386945,"results":"33","hashOfConfig":"27"},{"size":411,"mtime":1648985735966,"results":"34","hashOfConfig":"27"},{"size":4166,"mtime":1649151062188,"results":"35","hashOfConfig":"27"},{"size":167,"mtime":1616596573000,"results":"36","hashOfConfig":"27"},{"size":156,"mtime":1616596573000,"results":"37","hashOfConfig":"27"},{"size":359,"mtime":1648994191565,"results":"38","hashOfConfig":"27"},{"size":193,"mtime":1648992299834,"results":"39","hashOfConfig":"27"},{"size":101,"mtime":1649148013400,"results":"40","hashOfConfig":"27"},{"size":5646,"mtime":1649164154876,"results":"41","hashOfConfig":"27"},{"size":317,"mtime":1649078250226,"results":"42","hashOfConfig":"27"},{"size":165,"mtime":1648990306115,"results":"43","hashOfConfig":"27"},{"size":670,"mtime":1649150686176,"results":"44","hashOfConfig":"27"},{"size":1736,"mtime":1649161161639,"results":"45","hashOfConfig":"27"},{"size":4777,"mtime":1649466666831,"results":"46","hashOfConfig":"27"},{"size":240,"mtime":1649081052195,"results":"47","hashOfConfig":"27"},{"size":647,"mtime":1649475551940,"results":"48","hashOfConfig":"27"},{"size":3437,"mtime":1649474448239,"results":"49","hashOfConfig":"27"},{"size":3187,"mtime":1649475192890,"results":"50","hashOfConfig":"27"},{"size":3331,"mtime":1649475669347,"results":"51","hashOfConfig":"27"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},"vnfuyh",{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"71","messages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"81","messages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"83","messages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"87","messages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"89","messages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"91","messages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"54"},{"filePath":"100","messages":"101","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"102","messages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/alexis/Desktop/duo/src/index.js",[],["104","105"],"/Users/alexis/Desktop/duo/src/App.js",[],"/Users/alexis/Desktop/duo/src/pages/AddYourTwist/AddYourTwist.js",[],"/Users/alexis/Desktop/duo/src/pages/RecipeDetail/RecipeDetail.js",[],"/Users/alexis/Desktop/duo/src/components/layout/Layout/Layout.js",[],"/Users/alexis/Desktop/duo/src/components/layout/Navigation/MainNavigation.js",[],"/Users/alexis/Desktop/duo/src/pages/Recipes/components/list/RecipeList.js",[],"/Users/alexis/Desktop/duo/src/pages/Recipes/components/item/RecipeItem.js",[],"/Users/alexis/Desktop/duo/src/pages/Recipes/components/form/RecipeForm.js",[],"/Users/alexis/Desktop/duo/src/components/UI/LoadingSpinner/LoadingSpinner.js",[],"/Users/alexis/Desktop/duo/src/components/UI/Card/Card.js",[],"/Users/alexis/Desktop/duo/src/components/UI/Modal/Modal.js",[],"/Users/alexis/Desktop/duo/src/components/UI/Backdrop/Backdrop.js",[],"/Users/alexis/Desktop/duo/src/pages/FellowBartenders/FellowBartenders/FellowBartenders.js",[],"/Users/alexis/Desktop/duo/src/pages/Recipes/Recipes/Recipes.js",[],"/Users/alexis/Desktop/duo/src/pages/RecipeDetail/components/marked/MarkedRecipe.js",[],"/Users/alexis/Desktop/duo/src/pages/PageNotFound.js",[],"/Users/alexis/Desktop/duo/src/components/comments/comments/Comments.js",[],"/Users/alexis/Desktop/duo/src/components/comments/components/form/NewCommentForm.js",[],"/Users/alexis/Desktop/duo/src/pages/Login/Login.js",[],"/Users/alexis/Desktop/duo/src/pages/StartingPage/StartingPage.js",[],"/Users/alexis/Desktop/duo/src/pages/Profile/Profile.js",[],"/Users/alexis/Desktop/duo/src/store/auth-context.js",["106","107"],"import React, { useCallback, useEffect, useState } from 'react';\nimport { refreshTokenAPI } from '../components/lib/api';\n\nlet logoutTimer;\nlet refreshTokenTimer;\n\nconst AuthContext = React.createContext({\n    token: '',\n    isLoggedIn: false,\n    login: (token) => {},\n    logout: () => {},\n    refreshToken: () => {},\n});\n\nconst calculateRemainingTime = (expirationTime) => {\n    const currentTime = new Date().getTime();\n    const adjExpirationTime = new Date(expirationTime).getTime();\n\n    const remainingDuration = adjExpirationTime - currentTime;\n\n    return remainingDuration;\n};\n\nconst retrieveStoredToken = () => {\n    const storedToken = localStorage.getItem('token');\n    const storedExpirationDate = localStorage.getItem('expirationTime');\n\n    const remainingTime = calculateRemainingTime(storedExpirationDate);\n\n    if (remainingTime <= 60000){\n        localStorage.removeItem('token');\n        localStorage.removeItem('expirationTime');\n        return null;\n    };\n\n    return {\n        token: storedToken,\n        duration: remainingTime\n    };\n};\n\nexport const AuthContextProvider = (props) => {\n    const tokenData = retrieveStoredToken();\n    let initialToken;\n    if (tokenData){\n        initialToken = tokenData.token;\n    };\n\n    const [token, setToken] = useState(initialToken);\n\n    const userIsLoggedIn = !!token;\n\n    const logoutHandler = useCallback(() => {\n        setToken(null);\n        localStorage.removeItem('token');\n        localStorage.removeItem('expirationTime');\n        localStorage.removeItem('refreshToken');\n\n        if (logoutTimer){\n            clearTimeout(logoutTimer);\n        }\n    }, []);\n\n    const loginHandler = (data) => {\n        const expirationTime = new Date((new Date().getTime() + (+data.expiresIn * 1000)));\n        setToken(data.token);\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('expirationTime', expirationTime);\n        localStorage.setItem('refreshToken', data.refreshToken);\n        localStorage.setItem('userId', data.id);\n        localStorage.setItem('username', data.username);\n\n        const remainingTime = calculateRemainingTime(expirationTime);\n        localStorage.setItem('remainingTime', remainingTime);\n\n        refreshTokenTimer = setTimeout(refreshTokenHandler, remainingTime);\n    };\n\n    const refreshTokenHandler = () => {\n        const refreshToken = localStorage.getItem('refreshToken');\n        refreshTokenAPI({\n            refreshToken: refreshToken,\n        }).then((data) => {\n            setToken(data.accessToken);\n            localStorage.setItem('token', data.accessToken);\n            localStorage.setItem('refreshToken', data.refreshToken);\n            const remainingTime = localStorage.getItem('remainingTime');\n            refreshTokenTimer = setTimeout(refreshTokenHandler, remainingTime);\n        });\n    };\n\n    useEffect(() => {\n        if (tokenData){\n            console.log(tokenData.duration);\n            refreshTokenTimer = setTimeout(refreshTokenHandler, tokenData.duration);\n        }\n    },[tokenData, refreshTokenHandler]);\n\n    const contextValue = {\n        token: token,\n        isLoggedIn: userIsLoggedIn,\n        login: loginHandler,\n        logout: logoutHandler,\n        refreshToken: refreshTokenHandler,\n    };\n\n    return (\n        <AuthContext.Provider value={contextValue}>\n            {props.children}\n        </AuthContext.Provider>\n    );\n};\n\nexport default AuthContext;","/Users/alexis/Desktop/duo/src/components/lib/api.js",[],"/Users/alexis/Desktop/duo/src/pages/Profile/EditInfo.js",[],{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","severity":1,"message":"113","line":5,"column":5,"nodeType":"114","messageId":"115","endLine":5,"endColumn":22},{"ruleId":"116","severity":1,"message":"117","line":79,"column":11,"nodeType":"118","endLine":90,"endColumn":6,"suggestions":"119"},"no-native-reassign",["120"],"no-negated-in-lhs",["121"],"no-unused-vars","'refreshTokenTimer' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","The 'refreshTokenHandler' function makes the dependencies of useEffect Hook (at line 97) change on every render. To fix this, wrap the definition of 'refreshTokenHandler' in its own useCallback() Hook.","VariableDeclarator",["122"],"no-global-assign","no-unsafe-negation",{"desc":"123","fix":"124"},"Wrap the definition of 'refreshTokenHandler' in its own useCallback() Hook.",{"range":"125","text":"126"},[2337,2846],"useCallback(() => {\n        const refreshToken = localStorage.getItem('refreshToken');\n        refreshTokenAPI({\n            refreshToken: refreshToken,\n        }).then((data) => {\n            setToken(data.accessToken);\n            localStorage.setItem('token', data.accessToken);\n            localStorage.setItem('refreshToken', data.refreshToken);\n            const remainingTime = localStorage.getItem('remainingTime');\n            refreshTokenTimer = setTimeout(refreshTokenHandler, remainingTime);\n        });\n    })"]