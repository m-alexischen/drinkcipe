[{"/Users/alexis/Desktop/drinkcipe/src/index.js":"1","/Users/alexis/Desktop/drinkcipe/src/App.js":"2","/Users/alexis/Desktop/drinkcipe/src/store/auth-context.js":"3","/Users/alexis/Desktop/drinkcipe/src/pages/StartingPage/StartingPage.js":"4","/Users/alexis/Desktop/drinkcipe/src/pages/PageNotFound.js":"5","/Users/alexis/Desktop/drinkcipe/src/pages/Login/Login.js":"6","/Users/alexis/Desktop/drinkcipe/src/pages/RecipeDetail/RecipeDetail.js":"7","/Users/alexis/Desktop/drinkcipe/src/pages/MyRecipes/MyRecipes.js":"8","/Users/alexis/Desktop/drinkcipe/src/pages/Profile/Profile.js":"9","/Users/alexis/Desktop/drinkcipe/src/pages/Profile/EditInfo.js":"10","/Users/alexis/Desktop/drinkcipe/src/pages/FellowBartenders/FellowBartenders/FellowBartenders.js":"11","/Users/alexis/Desktop/drinkcipe/src/components/comments/comments/Comments.js":"12","/Users/alexis/Desktop/drinkcipe/src/pages/MyRecipes/components/form/edit/EditYourTwist.js":"13","/Users/alexis/Desktop/drinkcipe/src/components/lib/api.js":"14","/Users/alexis/Desktop/drinkcipe/src/components/layout/Layout/Layout.js":"15","/Users/alexis/Desktop/drinkcipe/src/pages/MyRecipes/components/form/create/AddYourTwist.js":"16","/Users/alexis/Desktop/drinkcipe/src/components/images/getImage/GetImageURL.js":"17","/Users/alexis/Desktop/drinkcipe/src/pages/RecipeDetail/components/marked/MarkedRecipe.js":"18","/Users/alexis/Desktop/drinkcipe/src/pages/Recipes/components/item/RecipeItem.js":"19","/Users/alexis/Desktop/drinkcipe/src/components/UI/Toggle/ToggleSwitch.js":"20","/Users/alexis/Desktop/drinkcipe/src/components/layout/Navigation/MainNavigation.js":"21","/Users/alexis/Desktop/drinkcipe/src/components/UI/Modal/Modal.js":"22","/Users/alexis/Desktop/drinkcipe/src/components/UI/Backdrop/Backdrop.js":"23","/Users/alexis/Desktop/drinkcipe/src/components/UI/Card/Card.js":"24","/Users/alexis/Desktop/drinkcipe/src/components/comments/components/rating/UserRatings.js":"25","/Users/alexis/Desktop/drinkcipe/src/components/comments/components/form/NewCommentForm.js":"26","/Users/alexis/Desktop/drinkcipe/src/components/upload/UploadRecipePic.js":"27","/Users/alexis/Desktop/drinkcipe/src/components/comments/components/item/CommentItem.js":"28","/Users/alexis/Desktop/drinkcipe/src/components/images/getImage/GetMyImage.js":"29","/Users/alexis/Desktop/drinkcipe/src/pages/FellowBartenders/SearchBartenders/SearchBartenders.js":"30","/Users/alexis/Desktop/drinkcipe/src/components/UI/Modal/OkModal.js":"31","/Users/alexis/Desktop/drinkcipe/src/pages/FellowBartenders/Invitation/Invitation.js":"32","/Users/alexis/Desktop/drinkcipe/src/pages/Notification/Notification.js":"33","/Users/alexis/Desktop/drinkcipe/src/pages/Recipes/Recipes/RecipeHome/Recipes.js":"34","/Users/alexis/Desktop/drinkcipe/src/pages/Recipes/Recipes/RecipesByUserId/UserRecipes.js":"35"},{"size":405,"mtime":1649433614957,"results":"36","hashOfConfig":"37"},{"size":3255,"mtime":1652188674744,"results":"38","hashOfConfig":"37"},{"size":3505,"mtime":1650553058104,"results":"39","hashOfConfig":"37"},{"size":1763,"mtime":1651755425850,"results":"40","hashOfConfig":"37"},{"size":165,"mtime":1648990306115,"results":"41","hashOfConfig":"37"},{"size":4821,"mtime":1650553058100,"results":"42","hashOfConfig":"37"},{"size":2561,"mtime":1652189095894,"results":"43","hashOfConfig":"37"},{"size":2243,"mtime":1651755327418,"results":"44","hashOfConfig":"37"},{"size":2212,"mtime":1652100031463,"results":"45","hashOfConfig":"37"},{"size":5378,"mtime":1652096853812,"results":"46","hashOfConfig":"37"},{"size":2705,"mtime":1652097851253,"results":"47","hashOfConfig":"37"},{"size":4226,"mtime":1651240978183,"results":"48","hashOfConfig":"37"},{"size":10220,"mtime":1651755927726,"results":"49","hashOfConfig":"37"},{"size":9579,"mtime":1652187269746,"results":"50","hashOfConfig":"37"},{"size":326,"mtime":1648985311608,"results":"51","hashOfConfig":"37"},{"size":5519,"mtime":1651755893847,"results":"52","hashOfConfig":"37"},{"size":142,"mtime":1651304137655,"results":"53","hashOfConfig":"37"},{"size":3892,"mtime":1652189052333,"results":"54","hashOfConfig":"37"},{"size":655,"mtime":1651754851529,"results":"55","hashOfConfig":"37"},{"size":737,"mtime":1650553058097,"results":"56","hashOfConfig":"37"},{"size":2153,"mtime":1652106820570,"results":"57","hashOfConfig":"37"},{"size":358,"mtime":1652191812440,"results":"58","hashOfConfig":"37"},{"size":193,"mtime":1648992299834,"results":"59","hashOfConfig":"37"},{"size":156,"mtime":1616596573000,"results":"60","hashOfConfig":"37"},{"size":1553,"mtime":1651235732625,"results":"61","hashOfConfig":"37"},{"size":2224,"mtime":1651237013045,"results":"62","hashOfConfig":"37"},{"size":1313,"mtime":1651755917439,"results":"63","hashOfConfig":"37"},{"size":1557,"mtime":1651204835816,"results":"64","hashOfConfig":"37"},{"size":496,"mtime":1652091066064,"results":"65","hashOfConfig":"37"},{"size":3464,"mtime":1652100956533,"results":"66","hashOfConfig":"37"},{"size":288,"mtime":1651816035554,"results":"67","hashOfConfig":"37"},{"size":3558,"mtime":1652179078096,"results":"68","hashOfConfig":"37"},{"size":1537,"mtime":1652182518366,"results":"69","hashOfConfig":"37"},{"size":2038,"mtime":1652188286536,"results":"70","hashOfConfig":"37"},{"size":2225,"mtime":1652191609769,"results":"71","hashOfConfig":"37"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},"i4xx17",{"filePath":"75","messages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"74"},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"74"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"95","messages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"97","messages":"98","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"107","messages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"109","messages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"115","messages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"117","messages":"118","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"119","messages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"123","messages":"124","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"125","messages":"126","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"127","messages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"129","messages":"130","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"131","messages":"132","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"133","messages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"135","messages":"136","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"137","messages":"138","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"139","messages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"74"},{"filePath":"141","messages":"142","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"143","messages":"144","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/alexis/Desktop/drinkcipe/src/index.js",[],["145","146"],"/Users/alexis/Desktop/drinkcipe/src/App.js",[],"/Users/alexis/Desktop/drinkcipe/src/store/auth-context.js",["147"],"import React, { useCallback, useEffect, useState } from 'react';\nimport { refreshTokenAPI } from '../components/lib/api';\n\nlet logoutTimer;\nlet refreshTokenTimer;\n\nconst AuthContext = React.createContext({\n    token: '',\n    isLoggedIn: false,\n    login: (token) => {},\n    logout: () => {},\n    refreshToken: () => {},\n});\n\nconst calculateRemainingTime = (expirationTime) => {\n    const currentTime = new Date().getTime();\n    const adjExpirationTime = new Date(expirationTime).getTime();\n\n    const remainingDuration = adjExpirationTime - currentTime;\n\n    return remainingDuration;\n};\n\nconst retrieveStoredToken = () => {\n    const storedToken = localStorage.getItem('token');\n    const storedExpirationDate = localStorage.getItem('expirationTime');\n\n    const remainingTime = calculateRemainingTime(storedExpirationDate);\n\n    if (remainingTime <= 60000){\n        localStorage.removeItem('token');\n        localStorage.removeItem('expirationTime');\n        return null;\n    };\n\n    return {\n        token: storedToken,\n        duration: remainingTime\n    };\n};\n\nexport const AuthContextProvider = (props) => {\n    const tokenData = retrieveStoredToken();\n    let initialToken;\n    if (tokenData){\n        initialToken = tokenData.token;\n    };\n\n    const [token, setToken] = useState(initialToken);\n\n    const userIsLoggedIn = !!token;\n\n    const logoutHandler = useCallback(() => {\n        setToken(null);\n        localStorage.removeItem('token');\n        localStorage.removeItem('expirationTime');\n        localStorage.removeItem('refreshToken');\n\n        if (logoutTimer){\n            clearTimeout(logoutTimer);\n        }\n    }, []);\n\n    const loginHandler = (data) => {\n        const expirationTime = new Date((new Date().getTime() + (+data.expiresIn * 1000)));\n        setToken(data.token);\n        localStorage.setItem('token', data.token);\n        localStorage.setItem('expirationTime', expirationTime);\n        localStorage.setItem('refreshToken', data.refreshToken);\n        localStorage.setItem('userId', data.id);\n        localStorage.setItem('username', data.username);\n        localStorage.setItem('email', data.email);\n\n        const remainingTime = calculateRemainingTime(expirationTime);\n        localStorage.setItem('remainingTime', remainingTime);\n\n        refreshTokenTimer = setTimeout(refreshTokenHandler, remainingTime);\n    };\n\n    const refreshTokenHandler = useCallback(() => {\n        const refreshToken = localStorage.getItem('refreshToken');\n        refreshTokenAPI({\n            refreshToken: refreshToken,\n        }).then((data) => {\n            setToken(data.accessToken);\n            localStorage.setItem('token', data.accessToken);\n            localStorage.setItem('refreshToken', data.refreshToken);\n            const remainingTime = localStorage.getItem('remainingTime');\n            refreshTokenTimer = setTimeout(refreshTokenHandler, remainingTime);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (tokenData){\n            console.log(tokenData.duration);\n            refreshTokenTimer = setTimeout(refreshTokenHandler, tokenData.duration);\n        }\n    },[tokenData, refreshTokenHandler]);\n\n    const contextValue = {\n        token: token,\n        isLoggedIn: userIsLoggedIn,\n        login: loginHandler,\n        logout: logoutHandler,\n        refreshToken: refreshTokenHandler,\n    };\n\n    return (\n        <AuthContext.Provider value={contextValue}>\n            {props.children}\n        </AuthContext.Provider>\n    );\n};\n\nexport default AuthContext;","/Users/alexis/Desktop/drinkcipe/src/pages/StartingPage/StartingPage.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/PageNotFound.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/Login/Login.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/RecipeDetail/RecipeDetail.js",["148"],"/Users/alexis/Desktop/drinkcipe/src/pages/MyRecipes/MyRecipes.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/Profile/Profile.js",["149"],"import { useEffect, useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { getImageURL } from '../../components/images/getImage/GetImageURL';\nimport GetMyImage from '../../components/images/getImage/GetMyImage';\nimport { addUserImage, userProfile } from '../../components/lib/api';\nimport classes from './Profile.module.css';\n\nconst Profile = () => {\n    const [username, setUsername] = useState(null);\n    const defaultImage = 'https://www.allthetests.com/quiz22/picture/pic_1171831236_1.png';\n    const [file, setFile] = useState();\n    const [showPic, setShowPic] = useState(defaultImage);\n\n    const token = localStorage.getItem('token');\n\n    useEffect(() => {\n        userProfile().then(res => {\n            setUsername(res.username);\n        });\n    }, [username]);\n    \n    const fileSelectedHandler = (event) => {\n        setFile(event.target.files[0]);\n    };\n\n    const fileSubmitHandler = (event) => {\n        event.preventDefault();\n        const formData = new FormData();\n        \n        if (file.size > 1024 * 1000 * 5){\n            alert('size exceeded!');\n            return;\n        };\n\n        formData.append('file', file);\n\n        const data = { \n            method: 'POST',\n            body: formData,\n            headers: {\n                // 'Content-Type': 'multipart/form-data',\n                'Authorization': 'Bearer ' + token,\n            },\n        };\n\n        addUserImage(data).then(res => {\n            setShowPic(getImageURL(res.imageId));\n        })\n    };\n\n\n    return (\n        <div className={classes.control}>\n            <h1>Hello, {username}!</h1>\n            <div className={classes.img}>\n                <GetMyImage />\n                <input type='file' onChange={fileSelectedHandler} />\n                {file !== defaultImage ? (\n                    <button className='btn' type='submit' onClick={fileSubmitHandler}>\n                        Confirm Pic Change\n                    </button>\n                ) : null}\n            </div>\n            <br />\n            <NavLink to='/profile/edit-info'>\n                <button className='btn'>Edit Personal Info</button> \n            </NavLink>\n        </div>\n    );\n};\n\nexport default Profile;","/Users/alexis/Desktop/drinkcipe/src/pages/Profile/EditInfo.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/FellowBartenders/FellowBartenders/FellowBartenders.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/comments/comments/Comments.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/MyRecipes/components/form/edit/EditYourTwist.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/lib/api.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/layout/Layout/Layout.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/MyRecipes/components/form/create/AddYourTwist.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/images/getImage/GetImageURL.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/RecipeDetail/components/marked/MarkedRecipe.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/Recipes/components/item/RecipeItem.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/UI/Toggle/ToggleSwitch.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/layout/Navigation/MainNavigation.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/UI/Modal/Modal.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/UI/Backdrop/Backdrop.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/UI/Card/Card.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/comments/components/rating/UserRatings.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/comments/components/form/NewCommentForm.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/upload/UploadRecipePic.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/comments/components/item/CommentItem.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/images/getImage/GetMyImage.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/FellowBartenders/SearchBartenders/SearchBartenders.js",[],"/Users/alexis/Desktop/drinkcipe/src/components/UI/Modal/OkModal.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/FellowBartenders/Invitation/Invitation.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/Notification/Notification.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/Recipes/Recipes/RecipeHome/Recipes.js",[],"/Users/alexis/Desktop/drinkcipe/src/pages/Recipes/Recipes/RecipesByUserId/UserRecipes.js",["150"],{"ruleId":"151","replacedBy":"152"},{"ruleId":"153","replacedBy":"154"},{"ruleId":"155","severity":1,"message":"156","line":5,"column":5,"nodeType":"157","messageId":"158","endLine":5,"endColumn":22},{"ruleId":"155","severity":1,"message":"159","line":1,"column":18,"nodeType":"157","messageId":"158","endLine":1,"endColumn":29},{"ruleId":"155","severity":1,"message":"160","line":12,"column":12,"nodeType":"157","messageId":"158","endLine":12,"endColumn":19},{"ruleId":"161","severity":1,"message":"162","line":38,"column":8,"nodeType":"163","endLine":38,"endColumn":10,"suggestions":"164"},"no-native-reassign",["165"],"no-negated-in-lhs",["166"],"no-unused-vars","'refreshTokenTimer' is assigned a value but never used.","Identifier","unusedVar","'useLocation' is defined but never used.","'showPic' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'params.userId'. Either include it or remove the dependency array.","ArrayExpression",["167"],"no-global-assign","no-unsafe-negation",{"desc":"168","fix":"169"},"Update the dependencies array to be: [params.userId]",{"range":"170","text":"171"},[1496,1498],"[params.userId]"]